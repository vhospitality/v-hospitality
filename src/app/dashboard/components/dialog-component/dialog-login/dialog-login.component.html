<div class="wrapper">
    <form class="form" novalidate [formGroup]="feedbackForm" #fform="ngForm" (ngSubmit)="onSubmit()">

        <div class="form-field" *ngIf="!email">
            <div class="label">Phone number*</div>
            <mat-form-field class="full-width" appearance="outline">
                <ngx-mat-intl-tel-input [preferredCountries]="['ng', 'us']" [enablePlaceholder]="true"
                    [formControl]="feedbackForm?.controls?.email" [enableSearch]="true" [label]="'mobile number'"
                    describedBy="phoneInput" #phone></ngx-mat-intl-tel-input>
                <mat-error>
                    {{ feedbackForm?.controls?.email?.errors?.validatePhoneNumber ? 'Invalid Number' : formErrors.email
                    }}
                </mat-error>
            </mat-form-field>
        </div>

        <div class="form-field" *ngIf="email">
            <div class="label">Email address*</div>
            <mat-form-field class="full-width" appearance="outline">
                <input matInput formControlName="email" type="email" email>
                <mat-error>{{formErrors.email}}</mat-error>
            </mat-form-field>
        </div>

        <div class="form-field">
            <div class="label">Password*</div>
            <mat-form-field class="full-width" appearance="outline">
                <input matInput formControlName="password" [type]="hide ? 'password' : 'tel'">
                <mat-icon mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error>{{formErrors.password}}</mat-error>
            </mat-form-field>
        </div>

        <div class="agree">
            By pressing Continue, you agree to our <span class="cursor-pointer"
                (click)="redirectToPolicy('/terms')">User Agreement</span>,
            <span class="cursor-pointer" (click)="redirectToPolicy('/privacy-policy')">Privacy Policy</span>
            and <span (click)="redirectToPolicy('/cookie-policy')" class="cursor-pointer">Cookie Policy</span>.
        </div>

        <div class="submit-p">
            <button type="submit" class="submit ripple-button">
                <span *ngIf="!loading">Login</span>
                <div *ngIf="loading" class="loader-white"></div>
            </button>

            <button (click)="openDialog('', 'login')" type="button" class="ripple-button signup">
                <span>Sign up</span>
            </button>
        </div>

        <p-divider align="center">
            <b>OR</b>
        </p-divider>

        <div class="continue" style="margin-top: 1rem;">
            <button class="ripple-button" type="button" (click)="email = !email;">
                <img *ngIf="!email" src="assets/icons/email.svg" alt="" />
                <img *ngIf="email" src="assets/icons/phone.svg" alt="" />
                <span *ngIf="email">Login with phone</span>
                <span *ngIf="!email">Login with e-mail</span>
                <span></span>
            </button>
        </div>

        <div class="forget-password cursor-pointer" (click)="closeDialog()">Forgot password?</div>

    </form>
</div>